<header
    class="fixed top-0 left-0 w-full bg-white/80 backdrop-blur-md border-b border-gray-100 z-50"
>
    <div class="max-w-7xl mx-auto px-6 h-16 flex items-center justify-between">
        <div class="flex items-center gap-3">
            <img src="/logo.png" alt="Logo" class="h-10 object-contain" />
            <span class="text-lg font-semibold text-[#101828]">
                {{ fullName }}
            </span>
        </div>

        <nav
            class="hidden md:flex items-center gap-8 text-sm font-medium text-gray-600"
        >
            <a routerLink="/" class="hover:text-[#ff7a2f] transition">Início</a>
            <a routerLink="/produtos" class="hover:text-[#ff7a2f] transition"
                >Produtos</a
            >
            <a routerLink="/sobre-nos" class="hover:text-[#ff7a2f] transition"
                >Sobre nós</a
            >
            <a routerLink="/faq" class="hover:text-[#ff7a2f] transition">FAQ</a>
        </nav>

        <div class="flex items-center gap-4">
            <a
                routerLink="/registrar"
                class="hidden md:inline-block text-sm font-semibold text-[#ff7a2f] hover:underline transition"
            >
                Criar conta
            </a>

            <a
                routerLink="/"
                class="px-4 py-2 rounded-lg border-2 border-[#ff7a2f] text-[#ff7a2f] text-sm font-semibold hover:bg-[#ff7a2f] hover:text-white transition"
            >
                Voltar para loja
            </a>
        </div>
    </div>
</header>

<main
    class="min-h-screen bg-white flex items-center justify-center px-6 py-10 font-sans"
>
    <div class="w-full max-w-6xl grid md:grid-cols-2 gap-12">
        <!-- LADO ESQUERDO -->
        <div
            class="hidden md:flex relative rounded-[70px] p-16 pb-0 flex-col justify-between bg-gradient-to-br from-[#ff8a2a] to-[#ff6a00] text-white shadow-xl overflow-hidden"
        >
            <!-- Conteúdo superior -->
            <div class="space-y-6 z-10">
                <h1 class="text-3xl font-bold leading-tight">
                    Bem-vindo à <br />
                    sua experiência de <br />
                    <span class="relative inline-block">
                        compras.
                        <span
                            class="absolute left-0 -bottom-2 w-full h-[3px] bg-white rounded-full"
                        >
                        </span>
                    </span>
                </h1>

                <p class="text-white/90 text-lg max-w-md">
                    Acesse sua conta para acompanhar pedidos, salvar favoritos e
                    finalizar suas compras com rapidez e segurança.
                </p>
            </div>

            <!-- IMAGEM -->
            <div class="relative w-full mt-10">
                <img
                    src="eletro.png"
                    alt="Produtos da loja"
                    class="w-full object-contain translate-y-10 scale-150"
                />
            </div>

            <!-- Textura -->
            <div
                class="absolute inset-0 opacity-10 pointer-events-none bg-[radial-gradient(circle,_white_1px,_transparent_1px)] bg-[size:14px_14px]"
            ></div>
        </div>

        <!-- LADO DIREITO -->
        <div class="flex items-center justify-center">
            <div class="w-full max-w-md space-y-8">
                <!-- Logo -->
                <div class="flex flex-row justify-center items-center gap-4">
                    <img
                        src="/logo.png"
                        alt="Logo e-shop"
                        class="h-14 object-contain"
                    />
                    <span class="text-2xl font-semibold text-gray-800">
                        {{ fullName || "e-shop" }}
                    </span>
                </div>

                <!-- Título -->
                <div class="text-center space-y-2">
                    <h2 class="text-3xl font-bold text-gray-900">
                        Bem-vindo de volta
                    </h2>
                    <p class="text-gray-500 text-sm">
                        Faça login para acessar sua conta
                    </p>
                </div>

                <!-- FORM -->
                <form
                    [formGroup]="loginForm"
                    (ngSubmit)="onSubmit()"
                    class="space-y-5"
                >
                    <!-- Email -->
                    <div>
                        <input
                            type="email"
                            formControlName="email"
                            placeholder="Endereço de e-mail"
                            class="w-full px-5 py-4 rounded-xl bg-gray-100 border transition focus:outline-none focus:ring-2 focus:ring-[#ff7a2f] focus:bg-white"
                            [ngClass]="{
                                'border-red-400 bg-red-50 focus:ring-red-400':
                                    isFieldInvalid('email'),
                                'border-transparent': !isFieldInvalid('email'),
                            }"
                        />

                        <p
                            *ngIf="isFieldInvalid('email')"
                            class="text-red-500 text-xs mt-1"
                        >
                            Informe um e-mail válido.
                        </p>
                    </div>

                    <!-- Senha -->
                    <div class="relative">
                        <input
                            [type]="showPassword() ? 'text' : 'password'"
                            formControlName="password"
                            placeholder="Senha"
                            class="w-full px-5 py-4 rounded-xl bg-gray-100 border transition pr-12 focus:outline-none focus:ring-2 focus:ring-[#ff7a2f] focus:bg-white"
                            [ngClass]="{
                                'border-red-400 bg-red-50 focus:ring-red-400':
                                    isFieldInvalid('password'),
                                'border-transparent':
                                    !isFieldInvalid('password'),
                            }"
                        />

                        <button
                            type="button"
                            (click)="togglePassword()"
                            class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition"
                        >
                            <!-- Olho aberto -->
                            <svg
                                *ngIf="!showPassword()"
                                xmlns="http://www.w3.org/2000/svg"
                                class="h-5 w-5"
                                fill="none"
                                viewBox="0 0 24 24"
                                stroke="currentColor"
                                stroke-width="1.8"
                            >
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    d="M2.458 12C3.732 7.943 7.523 5 12 5
         c4.477 0 8.268 2.943 9.542 7
         -1.274 4.057-5.065 7-9.542 7
         -4.477 0-8.268-2.943-9.542-7z"
                                />
                                <circle
                                    cx="12"
                                    cy="12"
                                    r="3"
                                    stroke="currentColor"
                                    stroke-width="1.8"
                                />
                            </svg>

                            <!-- Olho cortado -->
                            <svg
                                *ngIf="showPassword()"
                                xmlns="http://www.w3.org/2000/svg"
                                class="h-5 w-5"
                                fill="none"
                                viewBox="0 0 24 24"
                                stroke="currentColor"
                                stroke-width="1.8"
                            >
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    d="M3 3l18 18"
                                />
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    d="M10.584 10.587A2 2 0 0112 10
         a2 2 0 012 2
         c0 .507-.19.97-.504 1.323"
                                />
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    d="M9.878 4.697A9.956 9.956 0 0112 5
         c4.477 0 8.268 2.943 9.542 7
         a9.965 9.965 0 01-1.563 3.029M6.228 6.228
         C4.891 7.39 3.808 9.05 2.458 12
         c1.274 4.057 5.065 7 9.542 7
         1.613 0 3.135-.38 4.478-1.056"
                                />
                            </svg>
                        </button>

                        <p
                            *ngIf="isFieldInvalid('password')"
                            class="text-red-500 text-xs mt-1"
                        >
                            A senha é obrigatória.
                        </p>
                    </div>

                    <!-- Esqueceu senha -->
                    <div class="text-right">
                        <a
                            routerLink="/recuperar-senha"
                            class="text-sm text-gray-500 hover:text-[#ff7a2f] transition"
                        >
                            Esqueceu a senha?
                        </a>
                    </div>

                    <!-- Botão -->
                    <button
                        type="submit"
                        [disabled]="isLoading()"
                        class="w-full py-4 rounded-xl bg-[#ff7a2f] text-white font-semibold hover:bg-[#ff6a00] transition shadow-lg shadow-orange-200 disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center"
                    >
                        <span *ngIf="!isLoading()">Entrar</span>

                        <span
                            *ngIf="isLoading()"
                            class="flex items-center gap-2"
                        >
                            <svg
                                class="animate-spin h-5 w-5 text-white"
                                xmlns="http://www.w3.org/2000/svg"
                                fill="none"
                                viewBox="0 0 24 24"
                            >
                                <circle
                                    class="opacity-25"
                                    cx="12"
                                    cy="12"
                                    r="10"
                                    stroke="currentColor"
                                    stroke-width="4"
                                ></circle>
                                <path
                                    class="opacity-75"
                                    fill="currentColor"
                                    d="M4 12a8 8 0 018-8v8z"
                                ></path>
                            </svg>
                            Entrando...
                        </span>
                    </button>
                </form>

                <!-- Cadastro -->
                <p class="text-center text-sm text-gray-500">
                    Não tem uma conta?
                    <a
                        routerLink="/registrar"
                        class="text-[#ff7a2f] font-medium hover:underline"
                    >
                        Criar conta
                    </a>
                </p>
            </div>
        </div>
    </div>
</main>
