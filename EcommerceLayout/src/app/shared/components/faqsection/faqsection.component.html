<section class="lg:px-8 py-16">
    <div class="max-w-3xl mx-auto">
        <div class="text-center mb-10">
            <h2 class="text-2xl font-bold text-gray-900 mb-2">
                Perguntas Frequentes
            </h2>
            <p class="text-gray-500 text-sm">
                Encontre respostas para as dúvidas mais comuns sobre nossos
                produtos e serviços.
            </p>
        </div>

        <div class="space-y-4">
            
            <!-- Loop gerando os itens do FAQ -->
            @for (faq of faqs; track faq.question; let i = $index) {
                <div
                    (click)="toggleFaq(i)"
                    class="rounded-lg p-4 shadow-sm cursor-pointer transition-colors duration-300 group"
                    [ngClass]="faq.isOpen ? 'border border-brand bg-brand-50' : 'border border-gray-100 bg-white hover:border-brand'"
                >
                    <!-- Título / Pergunta -->
                    <div class="flex justify-between items-center">
                        <h4
                            class="font-medium transition-colors duration-300"
                            [ngClass]="faq.isOpen ? 'text-brand' : 'text-gray-800 group-hover:text-brand'"
                        >
                            <!-- Ícone animado (gira 90 graus quando aberto) -->
                            <i
                                class="ph-fill text-brand mr-2 text-xs inline-block transition-transform duration-300"
                                [ngClass]="faq.isOpen ? 'ph-caret-down' : 'ph-caret-right'"
                            ></i>
                            {{ faq.question }}
                        </h4>
                    </div>

                    <!-- Resposta (Corpo do Accordion) com animação suave de altura via Grid -->
                    <div 
                        class="grid transition-all duration-300 ease-in-out"
                        [ngClass]="faq.isOpen ? 'grid-rows-[1fr] opacity-100 mt-3' : 'grid-rows-[0fr] opacity-0 mt-0'"
                    >
                        <div class="overflow-hidden">
                            <div class="pl-6 text-sm text-gray-600 leading-relaxed border-l-2 border-brand/20 ml-1">
                                {{ faq.answer }}
                            </div>
                        </div>
                    </div>
                </div>
            }
            
        </div>
    </div>
</section>